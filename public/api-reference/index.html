<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>API Reference - eyeson API documentation</title>
    <meta name="generator" content="Hugo 0.87.0" />

    
    <meta name="description" content="eyeson API documentation">
    
    <link rel="canonical" href="https://eyeson-team.github.io/api/api-reference/">
    
    <meta name="author" content="eyeson GmbH">
    

    <meta property="og:url" content="https://eyeson-team.github.io/api/api-reference/">
    <meta property="og:title" content="eyeson API documentation">
    <meta property="og:image" content="https://eyeson-team.github.io/api/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="eyeson API documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://eyeson-team.github.io/api/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://eyeson-team.github.io/api/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://eyeson-team.github.io/api/fonts/icon.eot');
        src: url('https://eyeson-team.github.io/api/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://eyeson-team.github.io/api/fonts/icon.woff')
               format('woff'),
             url('https://eyeson-team.github.io/api/fonts/icon.ttf')
               format('truetype'),
             url('https://eyeson-team.github.io/api/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://eyeson-team.github.io/api/stylesheets/application.css">
    <link rel="stylesheet" href="https://eyeson-team.github.io/api/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://eyeson-team.github.io/api/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://eyeson-team.github.io/api/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="https://eyeson-team.github.io/api/eyeson.css">
    
    <script src="https://eyeson-team.github.io/api/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-grey palette-accent-light-blue">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        API Reference
      </div>
    </div>

    
    <div class="button button-twitter" role="button" aria-label="Twitter">
       <a href="https://twitter.com/eyeson_team" title="@eyeson_team on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
    </div>
    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/eyeson-team" title="@eyeson-team on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/eyeson-team/api" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://eyeson-team.github.io/api/images/logo.png">
        </div>
      
      <div class="name">
        <strong>eyeson API documentation <span class="version">1.0.5</span></strong>
        
          <br>
          eyeson-team/api
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-stars">
            <a href="https://github.com/eyeson-team/api/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Getting started" href="https://eyeson-team.github.io/api/getting-started/">
	
	Getting started
</a>



  
</li>



<li>
  
    



<a class="current" title="API Reference" href="https://eyeson-team.github.io/api/api-reference/">
	
	API Reference
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Websocket Events" href="https://eyeson-team.github.io/api/websocket-events/">
	
	Websocket Events
</a>



  
</li>



<li>
  
    



<a  title="eyeson API" href="https://eyeson-team.github.io/api/">
	
	eyeson API
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>

        <ul>
          
          <li>
            <a href="https://twitter.com/eyeson_team" target="_blank" title="@eyeson_team on Twitter">
              @eyeson_team on Twitter
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/eyeson-team" target="_blank" title="@eyeson-team on GitHub">
              @eyeson-team on GitHub
            </a>
          </li>
          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>API Reference </h1>

			<p>Video calls are organized in eyeson rooms. You can control who will join
a room by using a unique identifier. Every user will receive a link to the
GUI containing a unique access key scoped to the room and user. This key grants
access to the the eyeson room.</p>
<p>Within an eyeson room, all features like broadcast, recording, layout,
data and image injection be directly controlled.</p>
<h2 id="authorization">Authorization</h2>
<p>There are two levels of authorization: team-based via api-key and user-based
temporary access-key. To create a room and to register webhooks (for any rooms)
you have to provide a team-based authorization sending the API key in the HTTP
header.</p>
<pre><code>https://api.eyeson.team/&lt;path&gt;
HEADERS:
  - Authorization: &lt;YOUR_API_KEY&gt;
</code></pre><p>Any other communication with the API requires user-based authorization.
Meaning: an active room and user identified by an <code>access_key</code>. The access key
is provided by the resource endpoint, no additional headers are needed.</p>
<p>An expired access key - meeting has been shutdown - will result in a HTTP
response code of <code>410 GONE</code> for any request that uses the access key for
authorization.</p>
<h2 id="eyeson-room">eyeson Room</h2>
<p>Any room can be created with a team-based API request, resulting in everything
to be needed to join a eyeson video calls. Within the response the current
state of a room can be seen on the ready states for user, room and the global
ready state that combines these two.</p>
<p>In the links section you can find a direct URL to the eyeson GUI. By using this
no further communication with the API is required and your user is ready-to-go
by using this link with any WebRTC capable user-agent like webbrowser Chrome
or Firefox.</p>
<p>The guest-token can be used to <strong>quick-join</strong> an eyeson room. Using the eyeson
web GUI a quick-join URL can be generated using the following pattern:</p>
<pre><code>https://app.eyeson.team/guest=&lt;guest_token&gt;
</code></pre><p>The user to join the room has to be provided. If someone already created and
joined the room session, the user provided will join this existing room
session.</p>
<pre><code>POST /rooms # create room a new room or join an existing by id.
  HEADERS Authorization
  RESPONSES 201 CREATED, 400 BAD REQUEST
GET  /rooms/:access_key # receive details of a persisted room.
  RESPONSES 200 OK, 404 NOT FOUND, 410 GONE
DELETE /rooms/:identifier # force to stop a running meeting
  HEADERS Authorization
  RESPONSES 204 NO CONTENT, 404 NOT FOUND, 400 BAD REQUEST
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>String (optional)</td>
<td>If you want to get a single user or a handful of users into a specific meeting room, you can define an arbitrary id here. If kept empty, a random id will be returned.</td>
</tr>
<tr>
<td>name</td>
<td>String (optional)</td>
<td>If you want to give the room a readable name.</td>
</tr>
<tr>
<td>user[id]</td>
<td>String (optional)</td>
<td>You can supply a custom user id to identify the user in further REST requests without the need of remembering the eyeson user id e.g. your internal user id, an e-mail address, phone number, etc. If kept empty, a random id will be assigned.</td>
</tr>
<tr>
<td>user[name]</td>
<td>String (required)</td>
<td>Display name of the user.</td>
</tr>
<tr>
<td>user[avatar]</td>
<td>URL (optional)</td>
<td>Avatars will be displayed in the sidebar of our pre-defined user interface.</td>
</tr>
<tr>
<td>options[show_names]</td>
<td>Boolean (optional)</td>
<td>Show display names in video. Default: true</td>
</tr>
<tr>
<td>options[show_label]</td>
<td>Boolean (optional)</td>
<td>Show eyeson logos in GUI. Default: true</td>
</tr>
<tr>
<td>options[exit_url]</td>
<td>String (optional)</td>
<td>Exit destination, URL for exit button in GUI</td>
</tr>
<tr>
<td>options[recording_available]</td>
<td>Boolean (optional)</td>
<td>Allow recordings. Default: true</td>
</tr>
<tr>
<td>options[broadcast_available]</td>
<td>Boolean (optional)</td>
<td>Allow broadcasting. Default: true</td>
</tr>
<tr>
<td>options[reaction_available]</td>
<td>Boolean (optional)</td>
<td>Show gif media inserts in GUI. Default: true</td>
</tr>
<tr>
<td>options[layout_available]</td>
<td>Boolean (optional)</td>
<td>Allow layout updates. Default: true</td>
</tr>
<tr>
<td>options[guest_token_available]</td>
<td>Boolean (optional)</td>
<td>Provide guest token. Default: true</td>
</tr>
<tr>
<td>options[lock_available]</td>
<td>Boolean (optional)</td>
<td>Enable meeting lock. Default: false</td>
</tr>
<tr>
<td>options[kick_available]</td>
<td>Boolean (optional)</td>
<td>Allow participant kick. Default: true</td>
</tr>
<tr>
<td>options[sfu_mode]</td>
<td>String (optional)</td>
<td>Set a desired sfu mode. Possible values are: &lsquo;disabled&rsquo;, &lsquo;screencast&rsquo; or &lsquo;ptp&rsquo;. To either disable the feature, limit it to screencasts or enable it for meetings with only 2 participants. Default: &lsquo;ptp&rsquo;</td>
</tr>
<tr>
<td>options[widescreen]</td>
<td>Boolean (optional)</td>
<td>Run meeting in widescreen mode (16:9 aspect ratio). Default: false</td>
</tr>
<tr>
<td>options[audio_insert]</td>
<td>String (optional)</td>
<td>Show audio insert (&lsquo;enabled&rsquo;, &lsquo;disabled&rsquo; or &lsquo;audio_only&rsquo;). Default: audio_only</td>
</tr>
<tr>
<td>options[audio_insert_position][x]</td>
<td>Number (optional)</td>
<td>X position value of the audio insert.</td>
</tr>
<tr>
<td>options[audio_insert_position][y]</td>
<td>Number (optional)</td>
<td>Y position value of the audio insert.</td>
</tr>
<tr>
<td>options[custom_fields][locale]</td>
<td>Language Code (optional)</td>
<td>User preferred language code (en, de, fr).</td>
</tr>
<tr>
<td>options[custom_fields][logo]</td>
<td>String (optional)</td>
<td>URL to custom logo.</td>
</tr>
<tr>
<td>options[custom_fields][hide_chat]</td>
<td>Boolean (optional)</td>
<td>Hide chat in GUI. Default: false</td>
</tr>
<tr>
<td>options[custom_fields][virtual_background]</td>
<td>Boolean (optional)</td>
<td>Enable Virtual Background selection. Default: false</td>
</tr>
<tr>
<td>options[custom_fields][virtual_background_allow_guest]</td>
<td>Boolean (optional)</td>
<td>Enable Virtual Background selection for Guest users. Default: false</td>
</tr>
<tr>
<td>options[custom_fields][virtual_background_image]</td>
<td>String (optional)</td>
<td>Provide a custom Virtual Background image for selection.</td>
</tr>
</tbody>
</table>
<p>EXAMPLE RESPONSE</p>
<pre><code>{
  &quot;access_key&quot;: &quot;5cd3f7dce1382379a013d874&quot;,
  &quot;ready&quot;: false,
  &quot;room&quot;: {
    &quot;id&quot;:   &quot;596f5e442a3d24196f1b7d32&quot;,
    &quot;name&quot;: &quot;eyeson room&quot;,
    &quot;ready&quot;: false,
    &quot;shutdown&quot;: false,
    &quot;sip&quot;: {
      &quot;uri&quot;: &quot;https://.../&quot;,
      &quot;domain&quot;: &quot;example.eyeson.team&quot;,
      &quot;authorizationUser&quot;: &quot;username&quot;,
    },
    &quot;guest_token&quot;: &quot;5971daf62a3d241b0d263ec6&quot;
  },
  &quot;team&quot;: {
    &quot;name&quot;: &quot;My Company Ltd.&quot;
  },
  &quot;user&quot;: {
    &quot;id&quot;: &quot;596f5e442a3d24196f1b7d32&quot;,
    &quot;name&quot;: &quot;Jane Doe&quot;,
    &quot;avatar&quot;: &quot;https://example.com/avatar.png&quot;,
    &quot;guest&quot;: false,
    &quot;ready&quot;: false,
    &quot;sip&quot;: {
      &quot;uri&quot;: &quot;https://.../&quot;,
      &quot;domain&quot;: &quot;example.eyeson.team&quot;,
      &quot;wsServers&quot;: [ &quot;...&quot; ],
      &quot;instanceId&quot;: &quot;some-instance-id&quot;,
      &quot;userAgentString&quot;: &quot;user-id&quot;,
      &quot;authorizationUser&quot;: &quot;username&quot;,
      &quot;displayName&quot;: &quot;mrs. doe&quot;,
      &quot;stunServers&quot;: [ &quot;...&quot; ],
      &quot;turnServers&quot;: [ &quot;...&quot; ],
      &quot;registerExpires&quot;: &quot;...&quot;,
      &quot;password&quot;: &quot;sip-password&quot;
    },
  },
  &quot;links&quot;: {
    &quot;gui&quot;: &quot;https://app.eyeson.team/?588a0d32f9c4860024f36f3&quot;,
    &quot;self&quot;: &quot;https://api.eyeson.team/rooms&quot;,
    &quot;websocket&quot;: &quot;https://api.eyeson.team/rt&quot;
  }
}
</code></pre><h2 id="user-and-guest-user">User and Guest User</h2>
<pre><code>GET /rooms/:access_key/users/:identifier # Fetch user details.
  RESPONSES 200 OK, 404 NOT FOUND, 410 GONE
</code></pre><p>EXAMPLE RESPONSE</p>
<pre><code>{
  &quot;id&quot;: &quot;596f5e442a3d24196f1b7d32&quot;,
  &quot;name&quot;: &quot;Jane Doe&quot;,
  &quot;avatar&quot;: &quot;https://example.com/avatar.png&quot;,
  &quot;guest&quot;: false
}
</code></pre><p>Using the guest token received from the room creation, any number of guest
users can be created. This provides an option for you to offer a &ldquo;quick join&rdquo;
method to a meeting.</p>
<p>A guest user only has access to a running meeting session. Once a meeting
ends, the guest user cannot join any future meetings in this room.</p>
<pre><code>POST /guests/:guest_token # Create a guest user for a meeting.
  RESPONSES 201 CREATED, 401 UNAUTHORIZED
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>String (optional)</td>
<td>User identifier</td>
</tr>
<tr>
<td>name</td>
<td>String (required)</td>
<td>Users name to be displayed in participants list.</td>
</tr>
<tr>
<td>avatar</td>
<td>String (optional)</td>
<td>HTTP URI to a user avatar.</td>
</tr>
<tr>
<td>custom_fields[locale]</td>
<td>Language Code (optional)</td>
<td>User preferred language code (en, de, fr).</td>
</tr>
</tbody>
</table>
<p>EXAMPLE RESPONSE</p>
<pre><code>{
  &quot;access_key&quot;: &quot;588a0d32f9c4860024f36f3&quot;,
  &quot;ready&quot;: false,
  &quot;room&quot;: {
    &quot;id&quot;:   &quot;596f5e442a3d24196f1b7d32&quot;,
    &quot;name&quot;: &quot;eyeson room&quot;,
    &quot;ready&quot;: false,
    &quot;shutdown&quot;: false,
    &quot;sip&quot;: {
      &quot;uri&quot;: &quot;https://.../&quot;,
      &quot;domain&quot;: &quot;example.eyeson.team&quot;,
      &quot;authorizationUser&quot;: &quot;username&quot;,
    },
    &quot;guest_token&quot;: &quot;5971daf62a3d241b0d263ec6&quot;
  },
  &quot;team&quot;: {
    &quot;name&quot;: &quot;my own company&quot;
  },
  &quot;user&quot;: {
    &quot;id&quot;: &quot;unique-user-id&quot;,
    &quot;name&quot;: &quot;Some User&quot;,
    &quot;avatar&quot;: &quot;https://example.com/avatar.png&quot;,
    &quot;guest&quot;: false,
    &quot;ready&quot;: false,
    &quot;sip&quot;: {
      &quot;uri&quot;: &quot;https://.../&quot;,
      &quot;domain&quot;: &quot;example.eyeson.team&quot;,
      &quot;wsServers&quot;: [ &quot;...&quot; ],
      &quot;instanceId&quot;: &quot;instance-id&quot;,
      &quot;userAgentString&quot;: &quot;user-id&quot;,
      &quot;authorizationUser&quot;: &quot;username&quot;,
      &quot;displayName&quot;: &quot;display name&quot;,
      &quot;stunServers&quot;: [ &quot;...&quot; ],
      &quot;turnServers&quot;: [ &quot;...&quot; ],
      &quot;registerExpires&quot;: &quot;...&quot;,
      &quot;password&quot;: &quot;sip-password&quot;
    },
  },
  &quot;links&quot;: {
    &quot;gui&quot;: &quot;https://app.eyeson.team/?588a0d32f9c4860024f36f3&quot;,
    &quot;self&quot;: &quot;https://api.eyeson.team/rooms&quot;,
    &quot;websocket&quot;: &quot;https://api.eyeson.team/rt&quot;
  }
}
</code></pre><h2 id="messages">Messages</h2>
<p>Broadcast data messages to all users of a meeting.</p>
<pre><code>POST /rooms/:access_key/messages
  RESPONSE 201 CREATED, 400 BAD REQUEST, 410 GONE
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>String (required)</td>
<td>Type description, e.g. &lsquo;chat&rsquo;.</td>
</tr>
<tr>
<td>content</td>
<td>String (required)</td>
<td>Data content.</td>
</tr>
</tbody>
</table>
<h2 id="recording">Recording</h2>
<p>Recordings are saved in eyesons cloud storage and can be downloaded from there.
Direct URLs to downloads <em>expire</em>, so it&rsquo;s better store the recording identifier
and fetch a valid resource link on demand.</p>
<pre><code>POST /rooms/:access_key/recording
  RESPONSES 201 CREATED, 400 BAD REQUEST, 410 GONE
DELETE /rooms/:access_key/recording
  RESPONSES 200 OK, 410 GONE
</code></pre><pre><code>GET /recordings/:identifier
  RESPONSES 200 OK, 404 NOT FOUND
</code></pre><p>EXAMPLE RESPONSE</p>
<pre><code>{
  &quot;id&quot;: &quot;596f5e442a3d24196f1b7d32&quot;,
  &quot;created_at&quot;: &quot;TODO&quot;,
  &quot;duration&quot;: 12345, // duration in seconds
  &quot;links&quot;: {
    &quot;self&quot;: &quot;https://api.eyeson.team/recordings/596f5e442a3d24196f1b7d32&quot;,
    &quot;download&quot;: &quot;https://cloud-storage.eyeson.team/recordings/&lt;key&gt;.webm&quot;
  },
  &quot;user&quot;: {
    &quot;id&quot;: &quot;596f5e442a3d24196f1b7d32&quot;,
    &quot;name&quot;: &quot;Jane Doe&quot;,
    &quot;avatar&quot;: &quot;https://example.com/avatar.png&quot;,
    &quot;guest&quot;: false
  },
  &quot;room&quot;: {
    &quot;id&quot;:   &quot;596f5e442a3d24196f1b7d32&quot;,
    &quot;name&quot;: &quot;eyeson room&quot;,
    &quot;ready&quot;: false,
    &quot;shutdown&quot;: false,
    &quot;sip&quot;: {
      &quot;uri&quot;: &quot;https://.../&quot;,
      &quot;domain&quot;: &quot;example.eyeson.team&quot;,
      &quot;authorizationUser&quot;: &quot;username&quot;,
    },
    &quot;guest_token&quot;: &quot;5971daf62a3d241b0d263ec6&quot;
  }
}
</code></pre><pre><code>DELETE /recordings/:identifier
  RESPONSES 200 OK, 404 NOT FOUND
</code></pre><h2 id="snapshot">Snapshot</h2>
<p>This request creates a snapshot of the current meeting. Snapshots are saved in
eyesons cloud storage and can be downloaded from there.</p>
<pre><code>POST /rooms/:access_key/snapshot
  RESPONSES 201 CREATED, 400 BAD REQUEST, 410 GONE
</code></pre><h2 id="broadcast">Broadcast</h2>
<p>To connect an eyeson room with a broadcast you have to provide a valid
streaming RTMP url.</p>
<pre><code>POST /rooms/:access_key/broadcasts
  RESPONSES 201 CREATED, 400 BAD REQUEST, 410 GONE
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>stream_url</td>
<td>String (required)</td>
<td>Streaming URL.</td>
</tr>
<tr>
<td>player_url</td>
<td>String (optional)</td>
<td>Public URL to view the live video.</td>
</tr>
</tbody>
</table>
<pre><code>PUT /rooms/:access_key/broadcasts/generic
  RESPONSES 200 OK, 400 BAD REQUEST, 404 NOT FOUND, 410 GONE
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>player_url</td>
<td>String (required)</td>
<td>Public URL to view the live video.</td>
</tr>
</tbody>
</table>
<pre><code>DELETE /rooms/:access_key/broadcasts # stop broadcast
  RESPONSES 200 OK, 400 BAD REQUEST, 404 NOT FOUND, 410 GONE
</code></pre><h2 id="layout">Layout</h2>
<p>The meeting participants will be presented in an equally distributed tiled
video layout where eyeson takes care to always update the stream depending on
the number of users. However in some cases you might want to assign specific
users to a video position. To switch back to auto layout you can send
layout <code>auto</code> with no further options.</p>
<p>The custom eyeson podium layout can be set to one, two, four or nine
participants. This is controlled by the <code>users</code> parameter: Provide a user
identifier and the specific user will be placed on this position. Use an empty
string <code>&quot;&quot;</code> to assign no-participant and keep a spot free. This free spots will
be filled if you choose the <code>auto</code> layout. Additionally you can choose to
activate voice detection that will replace the spots with participants that
have said something recently. If you choose layout <code>custom</code> the free spots will
not be filled and you can use them to show some background using the <a href="#content-integration-aka-layers">media
inject</a> feature.</p>
<p>Besides layouts that are selected by the number of users there are some named
layouts that can be applied. Those will not provide equal distributed position
but show some participants in an expanded view.</p>
<p>Note that layouts are not available when using the <a href="https://webrtcglossary.com/sfu/" title="Selective Forwarding Unit">SFU</a> mode, so set the <a href="#eyeson-room">room
configuration</a> properly or take care to have more than two
participants.</p>
<pre><code>POST /rooms/:access_key/layout
  RESPONSES 200 OK, 400 BAD REQUEST, 410 GONE
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>layout</td>
<td>String (optional)</td>
<td>Value &lsquo;auto&rsquo; or &lsquo;custom&rsquo;.</td>
</tr>
<tr>
<td>users</td>
<td>List (optional)</td>
<td>List of podium user_ids, a custom layout position identifier or an empty string for an empty spot.</td>
</tr>
<tr>
<td>voice_activation</td>
<td>Boolean (optional)</td>
<td>Fill empty spots by voice detected activation.</td>
</tr>
<tr>
<td>show_names</td>
<td>Boolean (optional)</td>
<td>Show display names in video. Default: true</td>
</tr>
<tr>
<td>name</td>
<td>String (optional)</td>
<td>Use a named layout. Current layouts are: <code>one</code>, <code>two</code>, <code>four</code>, <code>six</code>, <code>nine</code>, and the presentation layouts with a single or two presenter and other users shown below or above <code>present-lower-3</code>, <code>present-upper-6</code>, <code>present-upper-right-9</code>, and <code>present-two-upper-6</code>.</td>
</tr>
<tr>
<td>audio_insert</td>
<td>String (optional)</td>
<td>Show audio insert (&lsquo;enabled&rsquo;, &lsquo;disabled&rsquo; or &lsquo;audio_only&rsquo;). Default: audio_only</td>
</tr>
<tr>
<td>audio_insert_position[x]</td>
<td>Number (optional)</td>
<td>X position value of the audio insert.</td>
</tr>
<tr>
<td>audio_insert_position[y]</td>
<td>Number (optional)</td>
<td>Y position value of the audio insert.</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ curl -X POST <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;users[]=USER_ID_A&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;users[]=USER_ID_B&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;users[]=USER_ID_C&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;users[]=USER_ID_D&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#34;https://api.eyeson.team/rooms/ACCESS_KEY/layout&#34;</span>
</code></pre></div><h2 id="content-integration-aka-layers">Content Integration aka Layers</h2>
<p>Show any data content inside your video using the eyeson layer service. There
are currently three ways to achieve this.</p>
<p>To show simple text message inserts you can use the insert parameter. You&rsquo;d
listen for tweets in a separate service and display them using the tweet senders
avatar as an icon, name as title and the tweet as content.</p>
<p>For more complex data generate an image and either upload the image or provide
a public URL. For overlaying images use a transparent background.</p>
<p>Any eyeson room video has a resolution of either <strong>1280x960</strong> pixels (960p in
default) or 1280x720 pixels (HD in widescreen mode). Ensure any file uploaded
is an alpha interlaced PNG image with a corresponding resolution to avoid any
distortions.</p>
<p>When using layers you might want to disable the <a href="https://webrtcglossary.com/sfu/" title="Selective Forwarding Unit">SFU</a> mode that in
default <a href="#eyeson-room">room configuration</a> will transport individual streams
for single and two participants and not show layer media.</p>
<pre><code>POST /rooms/:access_key/layers # insert image or text message
  RESPONSES 201 CREATED, 400 BAD REQUEST, 410 GONE
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td>File (optional)</td>
<td>File upload.</td>
</tr>
<tr>
<td>url</td>
<td>String (optional)</td>
<td>File URL.</td>
</tr>
<tr>
<td>insert[icon]</td>
<td>String (optional)</td>
<td>URL for an icon to show.</td>
</tr>
<tr>
<td>insert[title]</td>
<td>String (optional)</td>
<td>Message title.</td>
</tr>
<tr>
<td>insert[content]</td>
<td>String (optional)</td>
<td>Message content.</td>
</tr>
<tr>
<td>z-index</td>
<td>String (optional)</td>
<td>Use -1 for background or 1 (default) for foreground position.</td>
</tr>
<tr>
<td>layout</td>
<td>String (optional)</td>
<td>Layout mode either &lsquo;fixed&rsquo; or &lsquo;auto&rsquo; (default).</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ curl -X POST <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;url=https://eyeson-team.github.io/api/images/eyeson-overlay.png&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#34;https://api.eyeson.team/rooms/</span><span style="color:#e6db74">${</span>ACCESS_KEY<span style="color:#e6db74">}</span><span style="color:#e6db74">/layers&#34;</span>
</code></pre></div><pre><code>DELETE /rooms/:access_key/layers/:index # clear layer, index: -1 or 1
  RESPONSES 200 OK, 400 BAD REQUEST, 410 GONE
</code></pre><p>Besides image data you can playback videos. We currently limit it to media
files in webm (preferred) or mp4 format that have to be available through a
public URL. Note that we do not provide any kind of upload service for this
feature.</p>
<pre><code>POST /rooms/:access_key/playbacks # play a video
  RESPONSES 201 CREATED, 400 BAD REQUEST, 410 GONE
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>playback[audio]</td>
<td>Boolean</td>
<td>Play audio (default: false)</td>
</tr>
<tr>
<td>playback[play_id]</td>
<td>String</td>
<td>Choose an identifier, e.g. current timestamp or use a custom layout position identifier</td>
</tr>
<tr>
<td>playback[replacement_id]</td>
<td>String</td>
<td>User-id of the participants video to be replaced</td>
</tr>
<tr>
<td>playback[url]</td>
<td>String</td>
<td>Hosted MP4 video file</td>
</tr>
<tr>
<td>playback[name]</td>
<td>String</td>
<td>Custom readable name for identification</td>
</tr>
</tbody>
</table>
<p>The video will replace the current stream of a specific user. For sure you can
use the layout to set this user to fullscreen during the video playback and
switch back afterwards using the layout feature. As with layers ensure you
disable SFU mode.</p>
<h2 id="register-webhooks">Register Webhooks</h2>
<p>Register a webhook for any updates using one or multiple of the following
resource types comma separated: recording_update, room_update. Note that you
can register a single webhook, use the received response type to detect its
purpose. The webhook endpoint on your server requires to accept an HTTPS POST
request, the body of the request is provided in JSON format.
You can verify your requests using a SHA256 HMAC on the request body using your
API key, the corresponding hash is sent within header <code>X-Eyeson-Signature</code>.</p>
<pre><code>webhooks POST /webhooks
  HEADERS Authorization
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>String (required)</td>
<td>Target URL.</td>
</tr>
<tr>
<td>types</td>
<td>String (required)</td>
<td>Comma separated resource types.</td>
</tr>
</tbody>
</table>
<p>Check the current registered webhook as well as the last sent message timestamp
and response code.</p>
<pre><code>GET /webhooks
  HEADERS Authorization
  RESPONSES 200 OK
</code></pre><p>EXAMPLE RESPONSE</p>
<pre><code>{
  &quot;id&quot;: &quot;596f5e442a3d24196f1b7d32&quot;,
  &quot;url&quot;: &quot;https://eyeson.com/webhook&quot;,
  &quot;types&quot;: &quot;room_update&quot;,
  &quot;last_request_sent_at&quot;:&quot;2020-08-20T11:00:57.117+00:00&quot;,
  &quot;last_response_code&quot;:&quot;204&quot;
}
</code></pre><pre><code>DELETE /webhooks/:id
  HEADERS Authorization
  RESPONSES 204 OK, 400 BAD REQUEST
</code></pre><p>In order to get notified for new recordings in any room session, you can
register a webhook upfront, using your target location and the webhook type
<code>recording_update</code>. See the recording resource on details of the received JSON
document.</p>
<p>EXAMPLE</p>
<pre><code>{
  &quot;type&quot;: &quot;recording_update&quot;,
  &quot;recording&quot;: {
    &quot;id&quot;: &quot;...&quot;,
    &quot;created_at:&quot;: 1591700000,
    &quot;duration:&quot;: 60,
    &quot;links:&quot;: {
      &quot;self&quot;: &quot;https://...&quot;,
      &quot;download&quot;: &quot;https://...&quot;
    },
    &quot;user&quot;: {
      &quot;id&quot;: &quot;...&quot;,
      &quot;name&quot;: &quot;...&quot;,
      &quot;avatar&quot;: &quot;...&quot;
    },
    &quot;room&quot;: {
      &quot;id&quot;: &quot;...&quot;,
      &quot;name&quot;: &quot;...&quot;,
      &quot;started_at&quot;: &quot;...&quot;,
    }
  }
}
</code></pre><p>If you want to build up a meeting history in your application, register a
webhook for <code>room_update</code> and track when receiving a room update where
<code>shutdown</code> attribute is <code>true</code>.</p>
<p>EXAMPLE</p>
<pre><code>{
  &quot;type&quot;: &quot;room_update&quot;,
  &quot;room&quot;: {
    &quot;id&quot;: &quot;...&quot;,
    &quot;name&quot;: &quot;...&quot;,
    &quot;started_at&quot;: &quot;...&quot;,
    &quot;shutdown&quot;: true
  }
}
</code></pre>

			<aside class="copyright" role="note">
				
				&copy; 2022 eyeson GmbH &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://eyeson-team.github.io/api/websocket-events/" title="Websocket Events">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Websocket Events
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://eyeson-team.github.io/api/getting-started/" title="How to get started">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              How to get started
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/eyeson-team.github.io\/api\/';
      var repo_id  = 'eyeson-team\/api';
    
    </script>

    <script src="https://eyeson-team.github.io/api/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

